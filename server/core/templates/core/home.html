{% extends "core/base.html" %}
{% load static %}

{% block header_add %}
    <link rel='stylesheet' type='text/css' href={% static "core/css/home.css" %} xmlns="http://www.w3.org/1999/html"/>
    <link rel='stylesheet' type='text/css' href={% static "core/css/spinner.css" %} />
    <link rel='stylesheet' type='text/css' href={% static "core/css/apple-checkbox.css" %} />
{% endblock %}

{% block content %}
    <form class="form-jobs" enctype='multipart/form-data' action={% url "index" %} method='post'>
    {% csrf_token %}
        <h1 align="center">Job submission</h1>
        <hr>
        <h4 align="center">Enter information to start prediction</h4>
        <br>

{# Job name #}
<div class="row">
    <div class="col-sm-4 col-sm-offset-4">
        <div class="form-group {% if form.job_name.errors %}has-error has-feedback{% endif %}"
             style="text-align: center;">
            <label for="id_job_name" style="font-weight: bold;">{{ form.job_name.label }}</label>
            <input class="form-control center-text"
                   id="id_job_name"
                   maxlength="100" name="job_name" placeholder="Enter your prediction job name here"
                   style="height: 40px; margin:auto;" type="text"/>
            {% if form.job_name.errors %}
            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            {% endif %}
            <p align="center" class="_help-text">{{ form.job_name.help_text }}</p>
        </div>
    </div>
</div>

<br>

{# Parameters #}
<div class="row">
    {# age - required #}
    <div class="col-sm-4 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.age.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <span style="color: red; font-weight: bolder">*</span>
                <label for="id_age" style="font-weight: bold;">{{ form.age.label }}</label>
                <input class="form-control center-text"
                       id="id_age"
                       max="160" maxlength="100"
                       min="0" name="age" placeholder="Enter your age" required
                       style="margin:auto; height:40px; width:330px" type="number">
                {% if form.age.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.age.help_text }}</p>
            </div>
        </div>
    </div>
    {# sex #}
    <div class="col-sm-4">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.sex.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_sex" style="font-weight: bold;">{{ form.sex.label }}</label>
                <select class="form-control center-text"
                        id="id_sex"
                        name="sex" style="margin:auto; height:40px; width:330px">
                    <option value="0">Select your gender</option>
                    <option value="1">Male</option>
                    <option value="2">Female</option>
                    <option value="3">Other</option>
                </select>
                {% if form.sex.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.sex.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# height #}
    <div class="col-sm-4 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.height.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_height" style="font-weight: bold;">{{ form.height.label }}</label>
                <input class="form-control center-text"
                       id="id_height"
                       maxlength="8"
                       name="height" style="margin:auto; height:40px; width: 330px" type="text">
                {% if form.height.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.height.help_text }}</p>
            </div>
        </div>
    </div>
    {# weight #}
    <div class="col-sm-4">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.weight.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_weight" style="font-weight: bold;">{{ form.weight.label }}</label>
                <input class="form-control center-text"
                       id="id_weight"
                       max="400"
                       min="0" name="weight" style="margin:auto; height:40px; width: 330px" type="number">
                {% if form.weight.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.weight.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# race #}
    <div class="col-sm-4 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.race.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_race" style="font-weight: bold;">{{ form.race.label }}</label>
                <select class="form-control center-text"
                        id="id_race"
                        name="race" style="margin:auto; height:40px; width:330px">
                    <option value="0">Select your race</option>
                    <option value="1">White</option>
                    <option value="2">Black/African American American Indian/Alaska</option>
                    <option value="3">Native</option>
                    <option value="4">Hispanic/Latinx</option>
                    <option value="5">Asian</option>
                    <option value="6">Middle Eastern</option>
                    <option value="7">Other</option>
                </select>
                {% if form.race.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.race.help_text }}</p>
            </div>
        </div>
    </div>
    {# education level - required #}
    <div class="col-sm-4">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.education_level.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_education" style="font-weight: bold;">{{ form.education_level.label }}</label>
                <select class="form-control center-text"
                        id="id_education"
                        name="education_level" required style="margin:auto; height:40px; width:330px">
                    <option value="0">Select your education level</option>
                    <option value="1">High school, but did not graduate</option>
                    <option value="2">High school graduate</option>
                    <option value="3">Attended some college</option>
                    <option value="4">College graduate or higher</option>
                </select>
                {% if form.education_level.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.education_level.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# family history #}
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.family_history.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_family" style="font-weight: bold; text-align: justify">{{ form.family_history.label }}</label>
                <br>
                <select class="form-control center-text"
                        id="id_family"
                        name="family_history" style="margin:auto; height:40px; width:700px">
                    <option value="0">--Please choose an option--</option>
                    <option value="1">YES</option>
                    <option value="2">NO</option>
                    <option value="3">Not Sure</option>
                </select>
                {% if form.family_history.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.family_history.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# diagnosis history #}
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.diagnosis_history.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_diagnosis" style="font-weight: bold; text-align: justify">{{ form.diagnosis_history.label }}</label>
                <select class="form-control center-text"
                        id="id_diagnosis"
                        name="diagnosis_history" style="margin:auto; height:40px; width: 700px;">
                    <option value="0">--Please choose an option--</option>
                    <option value="1">YES</option>
                    <option value="2">NO</option>
                    <option value="3">Not Sure</option>
                </select>
                {% if form.diagnosis_history.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.diagnosis_history.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# memory problems #}
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.memory_problems.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_memory_problems" style="font-weight: bold; text-align: justify">{{ form.memory_problems.label }}</label>
                <select class="form-control center-text"
                        id="id_memory_problems"
                        name="memory_problems" style="margin:auto; height:40px; width: 700px;">
                    <option value="0">--Please choose an option--</option>
                    <option value="1">Mild cognitive impairment</option>
                    <option value="2">Alzheimer's disease</option>
                    <option value="3">Vascular dementia</option>
                    <option value="4">Fronto-temporal dementia</option>
                    <option value="5">Lewy-body dementia/Parkinson's disease</option>
                    <option value="6">Chronic traumatic encephalopathy</option>
                    <option value="7">Other, specify</option>
                </select>
                {% if form.memory_problems.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.memory_problems.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

{# other diagnosis #}
<div class="row">
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.other_diagnosis.errors %}has-error has-feedback{% endif %}"
                style="text-align: center">
                <label for="id_other_diagnosis" style="font-weight: bold">{{ form.other_diagnosis.label }}</label>
                <input class="form-control center-text"
                       id="id_other_diagnosis"
                       maxlength="100" name="other_diagnosis" placeholder="Specify the diagnosis"
                       style="margin:auto; height:40px; width: 700px" type="text"/>
                {% if form.other_diagnosis.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.other_diagnosis.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    <div class="form-group col-sm-8 col-sm-offset-2">
        <p style="font-weight: bold">
            Have you ever been diagnosed with any of the following cerebrovascular disease? (Choose all that comply)
            <br>
            If yes, what is the year of diagnosis for each specific disease?</p>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
                <input id="id_stroke" name="stroke" type="checkbox">
                <label for='id_stroke' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                    Stroke
                </label>
            </div>
            <div>
                <label for="id_stroke_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis: </label>
                <input id="id_stroke_year" name="stoke_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
            <input id="id_tia" name="tia" type="checkbox">
            <label for='id_tia' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                Transient Ischemic Attack
            </label>
            </div>
            <div>
                <label for="id_tia_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis: </label>
                <input id="id_tia_year" name="tia_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
            <input id="id_pd" name="pd" type="checkbox">
            <label for='id_pd' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                Parkinson's Disease
            </label>
            </div>
            <div>
                <label for="id_pd_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis: </label>
                <input id="id_pd_year" name="pd_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
            <input id="id_seizures" name="seizures" type="checkbox">
            <label for='id_seizures' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                Seizures
            </label>
            </div>
            <div>
                <label for="id_seizures_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis: </label>
                <input id="id_seizures_year" name="seizures_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
            <input id="id_multi_sclerosis" name="multi_sclerosis" type="checkbox">
            <label for='id_multi_sclerosis' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                Multiple Sclerosis
            </label>
            </div>
            <div>
                <label for="id_multi_sclerosis_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis: </label>
                <input id="id_multi_sclerosis_year" name="multi_sclerosis_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
            <input id="id_brain_tumors" name="brain_tumors" type="checkbox">
            <label for='id_brain_tumors' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                Brain Tumor
            </label>
            </div>
            <div>
                <label for="id_brain_tumors_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis: </label>
                <input id="id_brain_tumors_year" name="brain_tumors_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <div class="col-sm-5">
            <input id="id_cerebral_palsy" name="cerebral_palsy" type="checkbox">
            <label for='id_cerebral_palsy' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                Brain Tumor
            </label>
            </div>
            <div>
                <label for="id_cerebral_palsy_year" style="font-weight: normal; line-height: 20px; margin-right: 1em">
                    Year of diagnosis:</label>
                <input id="id_cerebral_palsy_year" name="cerebral_palsy_year" type="number"
                       style="text-align: center; width: 100px" placeholder="yyyy">
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# alcohol frequency #}
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.alcohol_frequency.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_alcohol" style="font-weight: bold; text-align: justify">{{ form.alcohol_frequency.label }}</label>
                <select class="form-control center-text"
                        id="id_alcohol"
                        name="alcohol_frequency" style="margin:auto; height:40px; width: 700px;">
                    <option value="0">--Please choose an option--</option>
                    <option value="1">Rarely/Never</option>
                    <option value="2">Occasionally</option>
                    <option value="3">Weekly</option>
                    <option value="4">Daily</option>
                </select>
                {% if form.alcohol_frequency.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.alcohol_frequency.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# smoking year #}
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.smoking_year.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <label for="id_smoking" style="font-weight: bold; text-align: justify">{{ form.smoking_year.label }}</label>
                <select class="form-control center-text"
                        id="id_smoking"
                        name="smoking_year" style="margin:auto; height:40px; width: 700px;">
                    <option value="0">--Please choose an option--</option>
                    <option value="1">Rarely/Never</option>
                    <option value="2">Less than 5 years</option>
                    <option value="3">5-9 years</option>
                    <option value="4">10-20 years</option>
                    <option value="4">More than 20 years</option>
                </select>
                {% if form.smoking_year.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.smoking_year.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>

<div class="row">
    {# image - required#}
    <div class="col-sm-8 col-sm-offset-2">
        <div style="display: flex; justify-content: center; align-items: center">
            <div class="form-group {% if form.img.errors %}has-error has-feedback{% endif %}"
                 style="text-align: center;">
                <span style="color: red; font-weight: bolder">*</span>
                <label for="id_img" style="font-weight: bold; text-align: justify">{{ form.img.label }}</label>
                <p style="font-weight: bold; text-align: justify">Please follow below instructions to draw a clock on a
                    piece of paper using a pencil,
                    and then upload a photo or scanned copy of your drawing."</p>
                <p style="font-weight: bold; text-align: justify">Instruction: Draw the face of an analog clock with all
                    the numbers,
                    and set the hands showing 10 minutes past 11 oâ€™clock.</p>
                <input id="id_img" name="img" required type="file">
                {% if form.img.errors %}
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                {% endif %}
                <p align="center" class="_help-text">{{ form.img.help_text }}</p>
            </div>
        </div>
    </div>
</div>

<br>
<hr>

<div style="display: flex; justify-content: center">
    <div class="form-group" style="margin: 0 auto; width: fit-content; width: -moz-fit-content">
        <div style="display: flex; justify-content: flex-start">
            <input id="id_noncommercial" required type="checkbox">
            <label for='id_noncommercial' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                I will NOT use {{ SERVER_NAME }} for commercial purposes.
            </label>
        </div>
        <div style="display: flex; justify-content: flex-start">
            <input id="id_agreedatastorage" required type="checkbox">
            <label for='id_agreedatastorage' style="font-weight: normal; line-height: 20px; margin-left: 1em">
                I have been fully informed of the nature of this study which includes a medical history, clock drawing
                test, and Trail A test and voluntarily agree to participate in this project. I understand that the
                cognitive assessment that I receive from this website has not been endorsed by any medical expert. I
                understand that the data will be sued in research and publications. I also authorize the Boston
                University to secure pertinent medical information and the data for the purposes of this study.
            </label>
        </div>
    </div>
</div>

{# Submit button #}
<div class="form-group jobs-submit text-center">
    <button class="btn btn-primary btn-md" id="submit_button" name="action" type="submit" value="submit">Submit job
    </button>
</div>

<div id="spinner" style="display: none">
    <p align="center">Processing input..</p>
    <div class="spinner" style="margin: auto;"></div>
</div>
</form>

{% endblock %}
